CREATE TABLE `administrador` (
`usernameAdmin` varchar(25) NOT NULL,   
`password` varchar(12) DEFAULT NULL,   
PRIMARY KEY (`usernameAdmin`) ) 
ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `usuario` (
`username` varchar(25) DEFAULT NULL,   
`password` varchar(12) DEFAULT NULL ) 
ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE DEFINER=`root`@`localhost` PROCEDURE `spConsultaNombreUsuario`
(IN pUsername VARCHAR(25)) 
BEGIN 	
	SELECT username
        FROM usuario     
	WHERE username = pUsername;  
END


CREATE DEFINER=`root`@`localhost` PROCEDURE `spInsertarUsuario`
(IN pUsername VARCHAR(25),
 IN pPassword VARCHAR(12)) 
BEGIN 	
	INSERT INTO usuario (username, password)     
	VALUES (pUsername, pPassword); 
END

CREATE DEFINER=`root`@`localhost` PROCEDURE `spVerificaAdmin`
( IN pUsername VARCHAR(25), 
IN pPassword VARCHAR(12)) 
BEGIN 	
	SELECT usernameAdmin     
	FROM administrador     
	WHERE usernameAdmin = pUsername AND password = pPassword;  
END

CREATE DEFINER=`root`@`localhost` PROCEDURE `spVerificaUsuario`
(IN pUsername VARCHAR(25),
 IN pPassword VARCHAR(12)) 
BEGIN 	
	SELECT username     
	FROM usuario     
	WHERE username = pUsername AND password = pPassword; 
END


CREATE DEFINER=`root`@`localhost` PROCEDURE `insertarProductoAlInventario`(
	id int,
    nombre varchar(100),
    precio int,
    detalle varchar(500),
    pcantidad int
)
BEGIN
	
    insert into producto(idProducto, nombreProducto, precio, detalle) 
    values (id, nombre, precio, detalle);
    
    insert into inventario(idProducto, cantidad) values (id, pcantidad);
END

CREATE DEFINER=`root`@`localhost` PROCEDURE `eliminarDeInventario`(id int)
BEGIN
	delete from inventario where idProducto = id;
    delete from producto where idProducto = id;
END

CREATE DEFINER=`root`@`localhost` PROCEDURE `actualizarProductoAlInventario`(
	id int,
    nombre varchar(100),
    precio int,
    detalle varchar(500),
    pcantidad int
)
BEGIN
	UPDATE producto
	SET nombreProducto = nombre,
	precio = precio
	WHERE idProducto = id;
    
	UPDATE inventario
    set Cantidad = pcantidad
    where idProducto = id;
END



